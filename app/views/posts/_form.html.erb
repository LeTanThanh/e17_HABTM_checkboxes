<%= form_for post, html: {class: "form-horizontal"} do |f| %>
  <div class="form-group">
    <%= f.label :title, class: "control-label col-sm-2" %>
    <div class="col-sm-10">
      <%= f.text_field :title, class: "form-control" %>
      <p class="text-danger"><%= post.errors.to_hash(true)[:title]&.first %></p>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :body, class: "control-label col-sm-2" %>
    <div class="col-sm-10">
      <%= f.text_area :body, class: "form-control" %>
      <p class="text-danger"><%= post.errors.to_hash(true)[:body]&.first %></p>
    </div>
  </div>
  <div class="form-group">
    <%= f.label "Tags", class: "control-label col-sm-2" %>
    <div class="col-sm-10">
      <% Tag.all.each do |tag| %>
        <div class="checkbox">
          <label>
            <%= f.check_box "tag_ids", { multiple: true, checked: post.tags.include?(tag) }, tag.id, nil %>
            <%= tag.name %>
          </label>
        </div>
      <% end %>
      <p class="text-danger"><%= post.errors.to_hash(true)[:tags]&.first %></p>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <%= f.submit class: "btn btn-default" %>
    </div>
  </div>
<% end %>
